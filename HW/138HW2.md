นายณัฐวุฒิ เคลือบทอง 66102010138

a) ความหมายของ Speculative Generality
Speculative Generality คือ code smell ที่เกิดจากการเขียนโค้ดแบบ คิดเผื่ออนาคตมากเกินไป
ทั้งที่ในความเป็นจริง ตอนนี้ยังไม่จำเป็นต้องใช้
เช่น การสร้าง class, interface หรือ method ไว้รองรับสิ่งที่ “อาจจะเกิดขึ้นในอนาคต”
แต่ปัจจุบันยังไม่มี requirement และยังไม่มีใครเรียกใช้โค้ดส่วนนั้นเลย

ผลที่ตามมาคือ:
-โค้ดซับซ้อนเกินความจำเป็น
-อ่านแล้วเข้าใจยาก
-ดูแลและแก้ไขลำบาก
-ใช้เวลาเขียนมากขึ้น แต่ไม่ได้ประโยชน์จริง

b) ตัวอย่างโค้ดที่เกิด Speculative Generality
interface PaymentMethod {
    void pay(double amount);
}

class CreditCardPayment implements PaymentMethod {
    public void pay(double amount) {
        System.out.println("Pay with credit card: " + amount);
    }
}

class PaymentService {
    public void processPayment(PaymentMethod method, double amount) {
        method.pay(amount);
    }
}


ปัญหาของโค้ดนี้
-ระบบมีแค่การจ่ายเงินด้วยบัตรเครดิตเท่านั้น
-แต่กลับออกแบบให้รองรับหลายวิธี โดยสร้าง interface ขึ้นมา
-ทั้งที่ยังไม่มี requirement เรื่องช่องทางการจ่ายเงินอื่นเลย

ทำให้โค้ดดูซับซ้อน ทั้งที่การทำงานจริงค่อนข้างง่าย

c) ตัวอย่างโค้ดหลังจาก refactoring
class PaymentService {
    public void payByCreditCard(double amount) {
        System.out.println("Pay with credit card: " + amount);
    }
}


ข้อดีหลัง refactor
-โค้ดสั้นและเรียบง่ายขึ้น
-อ่านแล้วเข้าใจทันทีว่าทำอะไร
-ตรงกับการใช้งานจริงในปัจจุบัน


d) กรณีที่ Speculative Generality ไม่ถือว่าเป็นปัญหา
Speculative Generality ไม่จำเป็นต้องเป็น code smell เสมอไป
หากมีเหตุผลรองรับชัดเจนnรู้แน่ชัดว่าจะต้องเพิ่ม feature ในอนาคตอันใกล้
เป็น API สาธารณะที่แก้ไขภายหลังได้ยาก

ตัวอย่างที่ยอมรับได้
interface NotificationSender {
    void send(String message);
}
